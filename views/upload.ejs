<!DOCTYPE html>
<html>
<head>
    <title>Add datasets</title>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- <link rel="stylesheet" href="/stylesheets/viewexperiment.css"> -->
    <!-- <link rel='stylesheet' type="text/css" href='../stylesheets/styles.css'/> -->
    <link href="/css/style.css" rel="stylesheet" type="text/css">

<body>
<div class="container">
    <!-- Navigation Bar -->
    <div class="container">
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/home">Home </a>
                </div>
                <div class="collapse navbar-collapse" id="myNavbar">
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <form class="form" id="form" method="POST" action="/logout">
                                <a href="/logout"
                                   onclick="document.getElementById('form').submit(); return false;"></span>
                                    Logout
                                </a>
                            </form>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

    </div>
    <br>
    <br>
    <div class="add-categories content-container">
        <h1 class="step-title">2. Upload files</h1>
        <div class="upload-steps-container">
            <div class="step-container upload-container">
                <!-- <form class="form" method="POST" action="/upload" enctype="application/x-www-form-urlencoded" > -->
                <!-- the above will pass the text input, but cant upload the file -->
                <h4 class="step-directions-upload">1. Select category.</h4>
                
                <!-- <p>your categories:</p> -->
                <div class="category-container">
                    <% files.forEach(function(file){ %>
                        <form class="form category-item" id="<%= file %>" method="POST" action="/upload/createDir" enctype="application/x-www-form-urlencoded" >
                            <button class="category-item-button" type="submit" name="category" value=<%= file %>>
                                <i class="icon fa fa-folder-o category-item-icon"></i>
                                <span class="category-item-text"><%= file %></span>
                            </button>
                            
                            <!-- <i class="icon fa fa-folder-o fa-2x"></i><input type="submit" name="category" value = <%= file %> /> -->
                        </form> 
                        <br>
                    <% })%>
                </div>
                <label class="select-category-text" for="category">Choose existing category above, or add new category below. NOTE: category names should not contain spaces.</label>
                <form class="form" method="POST" action="/upload/createDir" enctype="application/x-www-form-urlencoded" >
                    <div class="new-category-input-container">
                        <input class="new-category-input" type="text" class="form-control" placeholder="category name" name="category" required autofocus>
                        <br>
                        <button class="new-category-button" type="submit">
                            Add
                        </button>
                    </div>
                </form>
            </div>
            <div class="step-container upload-container">
                <h4 class="step-directions-upload">2. Upload file(s).</h4>
                <form class="form upload-form" method="POST" action="/upload/createFile" enctype="multipart/form-data" >
                    <!-- <label for="file">2. Select file(s) to upload. <%=  category%></label> -->
                    <!-- <div class="upload-container-inputs"> -->
                        <input
                            class="choose-files-button"
                            name="file"
                            type="file"
                            multiple
                        >
                        <!-- <br>
                        <br> -->
                        <!-- <input name="file" type="file" /> -->
                        <p class="selected-category-text"> Files will be uploaded to category: <%=  category%></p> 
                        <button class="btn btn-lg btn-primary btn-block upload-files-button" type="submit">
                            upload files
                        </button>
                    <!-- </div> -->
                </form>
            </div>
        </div>

        <div class="footer-nav">
            <a href="/selectModel">
                <button class="nav-button">
                    Prev
                </button>
            </a>
            <a href="/params">
                <button class="nav-button next-button">
                    Next
                </button>
            </a>
        </div>

    </div>
</div>
</body>
</html>
